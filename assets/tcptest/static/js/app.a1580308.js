(function(){"use strict";var e={9081:function(e,t,o){var n=o(9242),i=o(3396);function r(e,t,o,n,r,l){const s=(0,i.up)("LogView");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",null,[(0,i.Wm)(s)])])}var l=o(7139);const s={class:"homewrap"},a={style:{border:"solid 1px #d9dede","box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)",padding:"5px"}},c={style:{width:"100%"}},d={style:{border:"solid 1px #d9dede","box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)",padding:"5px",width:"100%",height:"90%",overflow:"auto","word-break":"break-all"}},u={ref:"txtContent",id:"txtContent",style:{"text-align":"left",border:"1px solid #646060",height:"100%",overflow:"auto","word-break":"break-all"}};function f(e,t,o,n,r,f){const h=(0,i.up)("el-input"),p=(0,i.up)("el-form-item"),g=(0,i.up)("el-button"),w=(0,i.up)("el-form"),v=(0,i.up)("el-aside"),b=(0,i.up)("el-container");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(b,{class:"home-container"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{width:"15%"},{default:(0,i.w5)((()=>[(0,i._)("div",a,[(0,i._)("div",null,[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,{label:"ws地址"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{size:"mini",modelValue:e.data.localaddr,"onUpdate:modelValue":t[0]||(t[0]=t=>e.data.localaddr=t),placeholder:"请输入ws地址"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,{type:"success",style:{width:"100%"},onClick:t[1]||(t[1]=t=>e.onStart())},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(e.data.btntext),1)])),_:1})])),_:1})])),_:1})])])])),_:1}),(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i._)("div",c,[(0,i._)("div",d,[(0,i._)("div",u,null,512)])])])),_:1})])),_:1})])}var h=o(3671);let p={name:"LogView",data(){return{websock:null,isWsClose:!0,data:{localaddr:window.location.host,btntext:"打开"},names:{title:"TCP/IP调试工具"},sData1:"",div:{logDiv:document.getElementById("txtContent")}}},computed:{},mounted(){this.div.logDiv=document.getElementById("txtContent")},methods:{left:h.left,onWorkModeChange(e){console.log("aaaaa",e),this.showLog(e)},onStart(){console.log("onStart"),this.isWsClose?this.initWebSocket():this.websock.close()},showLog(e){var t=document.createElement("div");t.append(e),this.div.logDiv.append(t),this.div.logDiv.scrollTop=this.div.logDiv.scrollHeight,this.div.logDiv.scrollIntoView()},websocketsend(e){this.websock.send(e)},initWebSocket(){if("undefined"===typeof WebSocket)return console.log("您的浏览器不支持websocket");let e=this,t=`ws://${this.data.localaddr}/echo`;console.log("host",t);try{this.websock=new WebSocket(t),this.websock.onmessage=function(t){console.log("onmessage",t),e.showLog(t.data)},this.websock.onopen=function(t){console.log("onopen",t),e.showLog("连接成功:"+JSON.stringify(t)),e.isWsClose=!1,e.data.btntext="关闭"},this.websock.onerror=function(t){console.log("onerror received a message",t),e.showLog("连接失败:"+JSON.stringify(t)),e.isWsClose=!0,e.data.btntext="打开"},this.websock.onclose=function(t){console.log("onclose received a message",t),e.showLog("连接失败:"+JSON.stringify(t)),e.isWsClose=!0,e.data.btntext="打开"}}catch(o){console.log("catch received a message",o),e.showLog("异常:"+JSON.stringify(o))}}}};var g=p,w=o(89);const v=(0,w.Z)(g,[["render",f]]);var b=v,m={name:"App",components:{LogView:b},methods:{}};const x=(0,w.Z)(m,[["render",r]]);var k=x,y=o(9906);o(3942),o(4415);(0,n.ri)(k).use(y.Z).mount("#app")}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,n,i,r){if(!n){var l=1/0;for(d=0;d<e.length;d++){n=e[d][0],i=e[d][1],r=e[d][2];for(var s=!0,a=0;a<n.length;a++)(!1&r||l>=r)&&Object.keys(o.O).every((function(e){return o.O[e](n[a])}))?n.splice(a--,1):(s=!1,r<l&&(l=r));if(s){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,i,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,r,l=n[0],s=n[1],a=n[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(a)var d=a(o)}for(t&&t(n);c<l.length;c++)r=l[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},n=self["webpackChunkvue_tcptest"]=self["webpackChunkvue_tcptest"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(9081)}));n=o.O(n)})();